@using LVMini.ViewModels
@model IEnumerable<Team>
@{
    ViewData["Title"] = "AdminTeams";
}


<head>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
</head>

<h3 style="color:black"><i class="glyphicon glyphicon-th"></i>&nbsp;Teams</h3>
<hr />
<div class="row">
    <div class="form-horizontal well">
        <div id="treelist"></div>
    </div>
</div>

<environment include="Development">
    <script src="http://localhost:9000/build/teams.bundle.js"></script>
</environment>


<environment include="Production">
    <script src="~/js/build/teams.bundle.js"></script>
</environment>
<script>

    var dataSource = new kendo.data.TreeListDataSource({
        transport: {
            read: {
                url: "http://localhost:49649/adminteams/GetAllTeams"
            }
        },
        pageSize: 2,
        schema: {
            model: {
                id:"username",
                ParentId: "TeamId"
            },
            data: function (response) {
                return response;
            }
        }
    });
    var treelist = $("#treelist").kendoTreeList({
        dataSource: dataSource,
        groupable: true,
        sortable: true,
        pageable: {
            refresh: true,
            pageSizes: true,
            buttonCount: 5
        },
        columns: [
            {
                title: "Team Name",
                field: "teamName"
            },
            {
                title: "Username",
                field: "username"
            },
            {
                title: "Last Name",
                field: "lastName"
            },
            {
                title: "Email",
                field: "email"
            }
        ]
    }).data("kendoTreeList");

</script>